# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is an n8n custom nodes package starter template. It's set up to create custom nodes and credentials for the n8n workflow automation platform.

## Key Commands

### Development
- `npm run dev` - Watch TypeScript files for changes during development
- `npm run build` - Build the project (cleans dist, compiles TypeScript, copies icons)
- `npm run lint` - Check for linting errors
- `npm run lintfix` - Automatically fix linting errors where possible
- `npm run format` - Format code with Prettier

### Testing Locally
To test nodes locally with n8n:
1. Build the project: `npm run build`
2. Link the package locally: `npm link`
3. In your n8n installation directory: `npm link n8n-nodes-<your-package-name>`
4. Start n8n: `n8n start`

## Architecture

### Directory Structure
- `/nodes/` - Contains custom n8n nodes
  - Each node is a TypeScript class implementing `INodeType`
  - Nodes must be registered in `package.json` under `n8n.nodes`
- `/credentials/` - Contains credential types for authentication
  - Each credential is a TypeScript class
  - Credentials must be registered in `package.json` under `n8n.credentials`
- `/dist/` - Built output (generated by `npm run build`)

### Key Concepts
1. **Node Structure**: Each node implements the `INodeType` interface with:
   - `description`: Node metadata and properties
   - `execute()`: Main execution logic processing input items

2. **Build Process**: 
   - TypeScript compilation to CommonJS
   - Icon files (PNG/SVG) are copied to dist via gulp
   - Output goes to `/dist/` directory

3. **n8n Integration**: The `package.json` contains an `n8n` section that registers:
   - Nodes via their compiled JavaScript paths
   - Credentials via their compiled JavaScript paths

### Development Notes
- Node.js 20+ required
- Uses CommonJS module system
- TypeScript strict mode enabled
- ESLint configured with n8n-specific rules
- Icons must be SVG or PNG and placed alongside node files